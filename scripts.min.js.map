{"version":3,"sources":["webpack:///./app-js/libs/lodash.js","webpack:///./app-js/common/ajax.js","webpack:///./app-js/common/ready.js","webpack:///./app-js/common/separationRanks.js","webpack:///./app-components/youtube/youtube.js","webpack:///./app-js/common/detectIE.js","webpack:///./app-js/main.js","webpack:///./app-js/common/render.js","webpack:///./app-js/common/locationSearch.js"],"names":["lodash","each","noop","replace","template","toUpper","trim","axios","defaults","baseURL","headers","post","toFormData","setup","formData","URLSearchParams","_","data","item","key","append","separationRanks","separation","number","String","init","selector","_this","this","document","querySelectorAll","el","elem","textContent","addEvent","iframe","event","video","contentWindow","postMessage","concat","setupVideo","link","querySelector","button","id","getAttribute","events","on","createElement","setAttribute","generateURL","classList","add","createIframe","remove","appendChild","forEach","stopVideo","removeAttribute","initYouTube","fn","videos","detect","ua","window","navigator","userAgent","msie","indexOf","parseInt","substring","rv","edge","arguments","length","undefined","success","response","console","log","callback","Set","config","url","action","location","href","method","responseType","type","has","params","then","error","Ajax","request","json","state","tpl","compiled","locationSearch","src","search","stringUrl","index","substr","split","reduce","a","i","array","decodeURIComponent","createObjLocationSearch","obj","address","push","encodeURIComponent","join","createStringLocationSearch","get","people","getElementById","ie","readyState"],"mappings":"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","file":"scripts.min.js","sourcesContent":["import each from 'lodash/forEach';\nimport noop from 'lodash/noop';\nimport replace from 'lodash/replace';\nimport template from 'lodash/template';\nimport toUpper from 'lodash/toUpper';\nimport trim from 'lodash/trim';\n\n\nexport default {\n  each,\n  noop,\n  replace,\n  template,\n  toUpper,\n  trim,\n};\n","import axios from 'axios';\nimport URLSearchParams from '@ungap/url-search-params';\nimport _ from 'libs/lodash';\n\n\naxios.defaults.baseURL = '';\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\nexport default function (setup = {}) {\n  const success = (response) => { console.log(response); };\n  const callback = setup.success || success;\n  const data = new Set(['POST', 'PUT']);\n\n  const config = {};\n  config.url = (setup.action) ? setup.action : window.location.href;\n  config.method = (setup.method) ? setup.method : 'GET';\n  config.responseType = (setup.type) ? setup.type : 'json';\n\n  if (data.has(_.toUpper(config.method))) {\n    toFormData(setup);\n    config.data = setup.data;\n  } else {\n    config.params = setup.data;\n  }\n\n  axios(config).then((response) => {\n    callback(response.data);\n  }).catch((error) => {\n    console.log(error);\n  });\n}\n\n\nfunction toFormData(setup) {\n  let formData = new URLSearchParams();\n\n  _.each(setup.data, (item, key) => {\n    formData.append(key, item);\n  });\n\n  setup.data = formData;\n}\n","import events from 'eventslibjs';\n\n\nexport default (fn) => {\n  if (document.readyState !== 'loading') {\n    fn();\n  } else {\n    events.on('DOMContentLoaded', document, fn);\n  }\n};\n","import _ from 'libs/lodash';\n\n\n// Разделение разрядов числа пробелами\nconst separationRanks = {\n\n  separation(number) {\n    return (String(number)) ? _.replace(String(number), /(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ') : number;\n  },\n\n  init(selector) {\n    _.each(document.querySelectorAll(selector), (el) => {\n      const elem = el;\n      elem.textContent = this.separation(elem.textContent);\n    });\n  },\n\n};\n\nexport default separationRanks;\n","import _ from 'libs/lodash';\nimport events from 'eventslibjs';\n\n\nfunction addEvent(iframe, event) {\n  const video = iframe;\n  video[event] = () => {\n    video.contentWindow.postMessage(`{\"event\":\"command\",\"func\":\"${event}\"}`, '*');\n  };\n}\n\nfunction generateURL(id) {\n  const query = '?rel=0&showinfo=0&autoplay=1&enablejsapi=1';\n  return `https://www.youtube.com/embed/${id}${query}`;\n}\n\nfunction createIframe(id) {\n  const iframe = document.createElement('iframe');\n\n  iframe.setAttribute('allowfullscreen', '');\n  iframe.setAttribute('allow', 'autoplay');\n  iframe.setAttribute('src', generateURL(id));\n  iframe.classList.add('youtube__media');\n  iframe.classList.add('js-youtube-api');\n\n  addEvent(iframe, 'playVideo');\n  addEvent(iframe, 'pauseVideo');\n  addEvent(iframe, 'stopVideo');\n\n  return iframe;\n}\n\nfunction stopAllVideos() {\n  const videos = document.querySelectorAll('.js-youtube iframe');\n\n  videos.forEach(video => {\n    video.stopVideo();\n  });\n}\n\nfunction setupVideo(video) {\n  const link = video.querySelector('.js-youtube--link');\n  const button = video.querySelector('.js-youtube--button');\n  const id = video.getAttribute('data-id');\n\n  events.on('click', video, () => {\n    const iframe = createIframe(id);\n\n    link.remove();\n    button.remove(); // почему-то при удалении кнопки при клике не на первый слайд слайдер откатывается к началу\n    video.appendChild(iframe);\n\n    stopAllVideos();\n  });\n\n  link.removeAttribute('href');\n  link.removeAttribute('target');\n  video.classList.add('youtube--enabled');\n}\n\nfunction initYouTube() {\n  const videos = document.querySelectorAll('.js-youtube');\n\n  _.each(videos, (video) => {\n    setupVideo(video);\n  });\n}\n\nexport default initYouTube;\n","export function detail() {\n  // Get IE or Edge browser version\n  var version = detect();\n\n  if (version === false) {\n    return 'Not IE/Edge';\n  } else if (version >= 12) {\n    return 'Edge ' + version;\n  } else {\n    return 'IE ' + version;\n  }\n}\n\n/**\n * detect IE\n * returns version of IE or false, if browser is not Internet Explorer\n */\nexport function detect() {\n  var ua = window.navigator.userAgent;\n\n  // Test values; Uncomment to check result …\n\n  // IE 10\n  // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\n  \n  // IE 11\n  // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\n  \n  // Edge 12 (Spartan)\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\n  \n  // Edge 13\n  // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\n\n  var msie = ua.indexOf('MSIE ');\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n  }\n\n  var trident = ua.indexOf('Trident/');\n  if (trident > 0) {\n    // IE 11 => return version number\n    var rv = ua.indexOf('rv:');\n    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n  }\n\n  var edge = ua.indexOf('Edge/');\n  if (edge > 0) {\n    // Edge (IE 12+) => return version number\n    return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n  }\n\n  // other browser\n  return false;\n}\n","import events from 'eventslibjs';\nimport Ajax from 'root/common/ajax';\nimport ready from 'root/common/ready';\nimport render from 'root/common/render';\nimport separationRanks from 'root/common/separationRanks';\nimport initYouTube from 'components/youtube/youtube';\nimport { detect as ie } from 'root/common/detectIE';\nimport { createObjLocationSearch, createStringLocationSearch } from 'root/common/locationSearch';\n\n\nready(() => {\n  Ajax({\n    action: '../ajax/',\n    method: 'POST',\n    data: {\n      request: 'axios',\n    },\n    success: (json) => {\n      console.log(json);\n    },\n  });\n\n  initYouTube();\n\n  separationRanks.init('.js-ranks');\n\n  const locationSearch = createObjLocationSearch('./?name=es6&extension=js');\n  console.log(locationSearch);\n  console.log(createStringLocationSearch(locationSearch));\n  console.log(events.get());\n  console.log(render('.js-templates', {\n    people: ['html', 'css', 'javascript'],\n  }));\n  console.log(`Microsoft: ${ie()}`);\n});\n","import _ from 'libs/lodash';\n\n\nexport default (selector, state) => {\n  const templates = document.getElementById('templates');\n  const tpl = templates.querySelector(selector).textContent;\n  const compiled = _.template(tpl);\n  return _.trim(compiled(state));\n};\n","function createStringLocationSearch(obj = {} /*, string address */) {\n  const array = [];\n  const address = (typeof arguments[1] === 'string' && arguments[1]) ? arguments[1] : '';\n\n  for (let key in obj) {\n    array.push(`${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`);\n  }\n\n  return `${address}?${array.join('&')}`;\n}\n\nfunction createObjLocationSearch(/* string params */) {\n  let src = window.location.search;\n\n  if (arguments.length) {\n    src = '';\n    const stringUrl = arguments[0];\n    if (typeof stringUrl === 'string' && stringUrl) {\n      const index = stringUrl.indexOf('?');\n      if (index !== -1) src = stringUrl.substr(index);\n    }\n  }\n\n  return src.substr(1).split('&').reduce((a, i) => {\n    const array = i.split('=');\n    if (array[0]) a[decodeURIComponent(array[0])] = decodeURIComponent(array[1]);\n    return a;\n  }, {});\n}\n\nexport {\n  createStringLocationSearch,\n  createObjLocationSearch,\n};\n"],"sourceRoot":""}