{"version":3,"sources":["webpack:///./app-js/libs/lodash.js","webpack:///./app-js/common/tools.js","webpack:///./app-js/libs/axios.js","webpack:///./app-js/libs/index.js","webpack:///./app-js/libs/events.js","webpack:///./app-components/templates/templates.js","webpack:///./app-components/youtube/youtube.js","webpack:///./app-js/main.js"],"names":["map","each","reduce","replace","template","toUpper","isString","assign","trim","size","noop","has","el","selector","ctx","document","querySelector","all","querySelectorAll","obj","arObjects","_","Object","create","ready","fn","readyState","e","on","setSearch","key","name","str","window","location","search","URLSearchParams","set","getSearch","get","delSearch","del","hasSearch","strSearch","toString","isData","data","resError","Promise","reject","instance","axios","baseURL","method","transformRequest","total","item","append","FormData","interceptors","request","use","config","params","response","then","res","SmoothScroll","speed","speedAsDuration","wrapper","event","target","events","currentTarget","closest","args","once","off","tpl","this","templates","$","markup","Boolean","textContent","state","compiled","addEvent","iframe","video","contentWindow","postMessage","setupVideo","link","button","id","getAttribute","videos","createElement","setAttribute","generateURL","classList","add","createIframe","remove","appendChild","stopVideo","removeAttribute","initYouTube","Ajax","json","console","log","url","body","insertAdjacentHTML","render","q","topic"],"mappings":"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","file":"scripts.min.js","sourcesContent":["import map from 'lodash/map';\nimport each from 'lodash/forEach';\nimport reduce from 'lodash/reduce';\nimport replace from 'lodash/replace';\nimport template from 'lodash/template';\nimport toUpper from 'lodash/toUpper';\nimport isString from 'lodash/isString';\nimport assign from 'lodash/assign';\nimport trim from 'lodash/trim';\nimport size from 'lodash/size';\nimport noop from 'lodash/noop';\nimport has from 'lodash/has';\n\nexport default {\n  map,\n  each,\n  reduce,\n  replace,\n  template,\n  toUpper,\n  isString,\n  assign,\n  trim,\n  size,\n  noop,\n  has,\n};\n","import { e } from 'libs';\n\nexport default {\n  el(selector, ctx = document) {\n    return ctx.querySelector(selector);\n  },\n\n  all(selector, ctx = document) {\n    return [...ctx.querySelectorAll(selector)];\n  },\n\n  obj(...arObjects) {\n    return _.assign(Object.create(null), ...arObjects);\n  },\n\n  ready(fn) {\n    if (document.readyState !== 'loading') {\n      fn();\n    } else {\n      e.on('DOMContentLoaded', document, fn);\n    }\n  },\n\n  setSearch(key, name, str = window.location.search) {\n    return new URLSearchParams(str).set(key, name);\n  },\n\n  getSearch(key, str = window.location.search) {\n    return new URLSearchParams(str).get(key);\n  },\n\n  delSearch(key, str = window.location.search) {\n    return new URLSearchParams(str).del(key);\n  },\n\n  hasSearch(key, str = window.location.search) {\n    return new URLSearchParams(str).has(key);\n  },\n\n  strSearch(obj) {\n    return new URLSearchParams(obj).toString();\n  },\n};\n","import axios from 'axios';\n\nconst isData = data => data && _.size(data);\nconst resError = e => Promise.reject(e);\n\nconst instance = axios.create({\n  baseURL: '../ajax/',\n  method: 'post',\n  transformRequest(data) {\n    if (isData(data)) {\n      return _.reduce(data, (total, item, key) => {\n        total.append(key, item);\n        return total;\n      }, new FormData());\n    }\n  },\n});\n\ninstance.interceptors.request.use((config) => {\n  if (config.method === 'get' && isData(config.data)) {\n    config.params = config.data;\n  }\n\n  return config;\n}, resError);\n\ninstance.interceptors.response.use(({ data }) => data, resError);\n\nexport default (data, fn) => {\n  instance(data).then((res) => {\n    fn(res);\n  });\n};\n","import SmoothScroll from 'smooth-scroll';\nimport Ajax from './axios';\nimport e from './events';\n\nnew SmoothScroll('a[href*=\"#\"]', { // eslint-disable-line no-new\n  speed: 500,\n  speedAsDuration: true,\n});\n\nexport { Ajax };\nexport { e };\n","import events from 'eventslibjs';\n\nfunction wrapper(name, event, target, fn) {\n  events[name](event, target, (e) => {\n    const currentTarget = _.isString(target) ? e.target.closest(target) : target;\n    fn(e, currentTarget);\n  });\n}\n\nexport default {\n  on: (...args) => { wrapper('on', ...args); },\n  once: (...args) => { wrapper('once', ...args); },\n  off: events.off,\n  get: events.get,\n};\n","import $ from 'common/tools';\n\nclass Tpl {\n  constructor() {\n    this.private = {\n      templates: $.el('#templates'),\n    };\n  }\n\n  get(name) {\n    let markup = '';\n    if (_.isString(name) && Boolean(name)) {\n      const el = $.el(`[title=\"${name}\"]`, this.private.templates);\n      markup = _.trim(el.textContent);\n    }\n    return markup;\n  }\n\n  render(state, template) {\n    const markup = this.get(template);\n    const compiled = _.template(markup);\n    const data = _.assign({ _ }, state);\n    return compiled(data);\n  }\n}\n\nconst tpl = new Tpl();\n\nexport default tpl;\n","import { e } from 'libs';\nimport $ from 'common/tools';\n\nfunction addEvent(iframe, event) {\n  const video = iframe;\n  video[event] = () => {\n    video.contentWindow.postMessage(`{\"event\":\"command\",\"func\":\"${event}\"}`, '*');\n  };\n}\n\nfunction generateURL(id) {\n  const query = '?rel=0&showinfo=0&autoplay=1&enablejsapi=1';\n  return `https://www.youtube.com/embed/${id}${query}`;\n}\n\nfunction createIframe(id) {\n  const iframe = document.createElement('iframe');\n\n  iframe.setAttribute('allowfullscreen', '');\n  iframe.setAttribute('allow', 'autoplay');\n  iframe.setAttribute('src', generateURL(id));\n  iframe.classList.add('youtube__media');\n  iframe.classList.add('js-youtube-api');\n\n  addEvent(iframe, 'playVideo');\n  addEvent(iframe, 'pauseVideo');\n  addEvent(iframe, 'stopVideo');\n\n  return iframe;\n}\n\nfunction stopAllVideos() {\n  const videos = $.all('.js-youtube iframe');\n\n  _.each(videos, (video) => {\n    video.stopVideo();\n  });\n}\n\nfunction setupVideo(video) {\n  const link = $.el('.js-youtube--link', video);\n  const button = $.el('.js-youtube--button', video);\n  const id = video.getAttribute('data-id');\n\n  e.on('click', video, () => {\n    const iframe = createIframe(id);\n\n    // почему-то при удалении кнопки при клике не на первый слайд слайдер откатывается к началу\n    button.remove();\n\n    link.remove();\n    video.appendChild(iframe);\n\n    stopAllVideos();\n  });\n\n  link.removeAttribute('href');\n  link.removeAttribute('target');\n  video.classList.add('youtube--enabled');\n}\n\nfunction initYouTube() {\n  const videos = $.all('.js-youtube');\n\n  _.each(videos, (video) => {\n    setupVideo(video);\n  });\n}\n\nexport default initYouTube;\n","import { Ajax, e } from 'libs';\nimport $ from 'common/tools';\nimport tpl from 'components/templates/templates';\nimport initYouTube from 'components/youtube/youtube';\n\n$.ready(() => {\n  Ajax({\n    data: { request: 'axios' },\n  }, (json) => {\n    console.log(json);\n  });\n\n  Ajax({\n    method: 'get',\n    url: 'https://jsonplaceholder.typicode.com/todos/1',\n  }, (json) => {\n    document.body.insertAdjacentHTML('beforeend', tpl.render(json, 'template'));\n  });\n\n  initYouTube();\n\n  console.log(e.get());\n  console.log($.getSearch('topic', '?q=URLUtils.searchParams&topic=api&topic=webdev'));\n  console.log($.strSearch({\n    q: 'URLUtils.searchParams',\n    topic: 'webdev',\n  }));\n});\n"],"sourceRoot":""}