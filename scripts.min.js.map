{"version":3,"sources":["webpack:///./app-js/libs/lodash.js","webpack:///./app-js/libs/events.js","webpack:///./app-js/common/ajax.js","webpack:///./app-js/common/tpl.js","webpack:///./app-js/common/separationRanks.js","webpack:///./app-components/youtube/youtube.js","webpack:///./app-js/common/ready.js","webpack:///./app-js/common/detectIE.js","webpack:///./app-js/main.js","webpack:///./app-js/common/locationSearch.js"],"names":["lodash","map","each","noop","replace","template","toUpper","isString","assign","trim","wrapper","name","event","target","fn","events","e","currentTarget","_","closest","on","_len","arguments","length","args","Array","_key","apply","concat","once","_len2","_key2","off","get","axios","defaults","baseURL","headers","post","ajax","setup","undefined","callback","success","response","console","log","data","Set","config","url","action","window","location","href","method","has","formData","URLSearchParams","item","key","append","toFormData","params","then","error","tpl","Tpl","classCallCheck_default","this","templates","document","querySelector","markup","Boolean","el","textContent","state","compiled","separationRanks","separation","number","String","init","selector","_this","querySelectorAll","elem","addEvent","iframe","video","contentWindow","postMessage","setupVideo","link","button","id","getAttribute","videos","createElement","setAttribute","generateURL","classList","add","createIframe","remove","appendChild","stopVideo","removeAttribute","initYouTube","detect","ua","navigator","userAgent","msie","indexOf","parseInt","substring","rv","edge","Ajax","request","json","locationSearch","stringUrl","src","search","index","substr","split","reduce","a","i","array","decodeURIComponent","createObjLocationSearch","obj","stringAddress","address","encodeURIComponent","join","createStringLocationSearch","render","people","ie","readyState"],"mappings":"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","file":"scripts.min.js","sourcesContent":["import map from 'lodash/map';\nimport each from 'lodash/forEach';\nimport noop from 'lodash/noop';\nimport replace from 'lodash/replace';\nimport template from 'lodash/template';\nimport toUpper from 'lodash/toUpper';\nimport isString from 'lodash/isString';\nimport assign from 'lodash/assign';\nimport trim from 'lodash/trim';\n\n\nexport default {\n  map,\n  each,\n  noop,\n  replace,\n  template,\n  toUpper,\n  isString,\n  assign,\n  trim,\n};\n","import events from 'eventslibjs';\nimport _ from 'libs/lodash';\n\n\nfunction wrapper(name, event, target, fn) {\n  events[name](event, target, (e) => {\n    const currentTarget = _.isString(target) ? e.target.closest(target) : target;\n    fn(e, currentTarget);\n  });\n}\n\nexport default {\n  on: (...args) => { wrapper('on', ...args); },\n  once: (...args) => { wrapper('once', ...args); },\n  off: events.off,\n  get: events.get,\n};\n","import axios from 'axios';\nimport URLSearchParams from '@ungap/url-search-params';\nimport _ from 'libs/lodash';\n\n\naxios.defaults.baseURL = '';\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\nfunction toFormData(data) {\n  const formData = new URLSearchParams();\n\n  _.each(data, (item, key) => {\n    formData.append(key, item);\n  });\n\n  return formData;\n}\n\nexport default function (setup = {}) {\n  const success = (response) => { console.log(response); };\n  const callback = setup.success || success;\n  const data = new Set(['POST', 'PUT']);\n\n  const config = {};\n  config.url = (setup.action) ? setup.action : window.location.href;\n  config.method = (setup.method) ? setup.method : 'GET';\n\n  if (data.has(_.toUpper(config.method))) {\n    config.data = toFormData(setup.data);\n  } else {\n    config.params = setup.data;\n  }\n\n  axios(config).then((response) => {\n    callback(response.data);\n  }).catch((error) => {\n    console.log(error);\n  });\n}\n","import _ from 'libs/lodash';\n\n\nclass Tpl {\n  constructor() {\n    this.private = {\n      templates: document.querySelector('#templates'),\n    };\n  }\n\n  get(name) {\n    let markup = '';\n    if (_.isString(name) && Boolean(name)) {\n      const el = this.private.templates.querySelector(`[type=\"text/template\"][data-name=\"${name}\"]`);\n      markup = _.trim(el.textContent);\n    }\n    return markup;\n  }\n\n  render(state, template) {\n    const markup = this.get(template);\n    const compiled = _.template(markup);\n    const data = _.assign({ _ }, state);\n    return compiled(data);\n  }\n}\n\nconst tpl = new Tpl();\n\nexport default tpl;\n","import _ from 'libs/lodash';\n\n\n// Разделение разрядов числа пробелами\nconst separationRanks = {\n\n  separation(number) {\n    return (String(number)) ? _.replace(String(number), /(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ') : number;\n  },\n\n  init(selector) {\n    _.each(document.querySelectorAll(selector), (el) => {\n      const elem = el;\n      elem.textContent = this.separation(elem.textContent);\n    });\n  },\n\n};\n\nexport default separationRanks;\n","import _ from 'libs/lodash';\nimport events from 'eventslibjs';\n\n\nfunction addEvent(iframe, event) {\n  const video = iframe;\n  video[event] = () => {\n    video.contentWindow.postMessage(`{\"event\":\"command\",\"func\":\"${event}\"}`, '*');\n  };\n}\n\nfunction generateURL(id) {\n  const query = '?rel=0&showinfo=0&autoplay=1&enablejsapi=1';\n  return `https://www.youtube.com/embed/${id}${query}`;\n}\n\nfunction createIframe(id) {\n  const iframe = document.createElement('iframe');\n\n  iframe.setAttribute('allowfullscreen', '');\n  iframe.setAttribute('allow', 'autoplay');\n  iframe.setAttribute('src', generateURL(id));\n  iframe.classList.add('youtube__media');\n  iframe.classList.add('js-youtube-api');\n\n  addEvent(iframe, 'playVideo');\n  addEvent(iframe, 'pauseVideo');\n  addEvent(iframe, 'stopVideo');\n\n  return iframe;\n}\n\nfunction stopAllVideos() {\n  const videos = document.querySelectorAll('.js-youtube iframe');\n\n  _.each(videos, (video) => {\n    video.stopVideo();\n  });\n}\n\nfunction setupVideo(video) {\n  const link = video.querySelector('.js-youtube--link');\n  const button = video.querySelector('.js-youtube--button');\n  const id = video.getAttribute('data-id');\n\n  events.on('click', video, () => {\n    const iframe = createIframe(id);\n\n    // почему-то при удалении кнопки при клике не на первый слайд слайдер откатывается к началу\n    button.remove();\n\n    link.remove();\n    video.appendChild(iframe);\n\n    stopAllVideos();\n  });\n\n  link.removeAttribute('href');\n  link.removeAttribute('target');\n  video.classList.add('youtube--enabled');\n}\n\nfunction initYouTube() {\n  const videos = document.querySelectorAll('.js-youtube');\n\n  _.each(videos, (video) => {\n    setupVideo(video);\n  });\n}\n\nexport default initYouTube;\n","import events from 'libs/events';\n\n\nexport default (fn) => {\n  if (document.readyState !== 'loading') {\n    fn();\n  } else {\n    events.on('DOMContentLoaded', document, fn);\n  }\n};\n","/**\n * detect IE\n * returns version of IE or false, if browser is not Internet Explorer\n */\nexport function detect() {\n  const ua = window.navigator.userAgent;\n\n  /*\n    Test values; Uncomment to check result …\n\n    IE 10\n    ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';\n\n    IE 11\n    ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';\n\n    Edge 12 (Spartan)\n    ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36\n          (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';\n\n    Edge 13\n    ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\n          (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';\n  */\n\n  const msie = ua.indexOf('MSIE ');\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n  }\n\n  const trident = ua.indexOf('Trident/');\n  if (trident > 0) {\n    // IE 11 => return version number\n    const rv = ua.indexOf('rv:');\n    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n  }\n\n  const edge = ua.indexOf('Edge/');\n  if (edge > 0) {\n    // Edge (IE 12+) => return version number\n    return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n  }\n\n  // other browser\n  return false;\n}\n\nexport function detail() {\n  // Get IE or Edge browser version\n  const version = detect();\n\n  if (version === false) return 'Not IE/Edge';\n\n  if (version >= 12) return `Edge ${version}`;\n\n  return `IE ${version}`;\n}\n","import events from 'libs/events';\nimport Ajax from 'root/common/ajax';\nimport ready from 'root/common/ready';\nimport tpl from 'root/common/tpl';\nimport separationRanks from 'root/common/separationRanks';\nimport initYouTube from 'components/youtube/youtube';\nimport { detect as ie } from 'root/common/detectIE';\nimport { createObjLocationSearch, createStringLocationSearch } from 'root/common/locationSearch';\n\n\nready(() => {\n  Ajax({\n    action: '../ajax/',\n    method: 'POST',\n    data: {\n      request: 'axios',\n    },\n    success: (json) => {\n      console.log(json);\n    },\n  });\n\n  initYouTube();\n\n  separationRanks.init('.js-ranks');\n\n  const locationSearch = createObjLocationSearch('./?name=es6&extension=js');\n  console.log(locationSearch);\n  console.log(createStringLocationSearch(locationSearch));\n  console.log(events.get());\n  console.log(tpl.render({\n    people: ['html', 'css', 'javascript'],\n  }, 'template'));\n  console.log(tpl.get('template'));\n  console.log(`Microsoft: ${ie()}`);\n});\n","// deprecated\n// https://developer.mozilla.org/ru/docs/Web/API/URLSearchParams\n\nimport _ from 'libs/lodash';\n\n\nfunction createStringLocationSearch(obj = {}, stringAddress = '') {\n  const address = (_.isString(stringAddress) && stringAddress) ? stringAddress : '';\n\n  const array = _.map(obj, (item, key) => `${encodeURIComponent(key)}=${encodeURIComponent(item)}`);\n\n  return `${address}?${array.join('&')}`;\n}\n\nfunction createObjLocationSearch(stringUrl) {\n  let src = window.location.search;\n\n  if (stringUrl) {\n    src = '';\n    if (_.isString(stringUrl) && stringUrl) {\n      const index = stringUrl.indexOf('?');\n      if (index !== -1) src = stringUrl.substr(index);\n    }\n  }\n\n  return src.substr(1).split('&').reduce((a, i) => {\n    const array = i.split('=');\n    if (array[0]) a[decodeURIComponent(array[0])] = decodeURIComponent(array[1]);\n    return a;\n  }, {});\n}\n\nexport {\n  createStringLocationSearch,\n  createObjLocationSearch,\n};\n"],"sourceRoot":""}